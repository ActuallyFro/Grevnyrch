<!-- This form enables rapid creation of GLS-compliant Logs  -->
<!-- Source: https://www.w3schools.com/js/tryit.asp?filename=try_dom_select_option -->

<!DOCTYPE html>

<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- https://getbootstrap.com/docs/5.2/getting-started/introduction/ -->
  <title>GLSL</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>

  <script src="GLSL.js"></script>

</head>
<body>

<!-- header for GLSL -->
<div class="header">
  <h1>GLSL</h1>

<!-- Bracket Button Panel -->
<div class="container">
  <h2>1. Pick a bracket:</h2>
  <div class="row">
    <div class="col-sm-12">
      <form id="PannelButtonsLocations">        
      </form>
    </div>
    <div class="col-sm-12">
      <form id="PannelButtonsTiming">        
      </form>
    </div>
    <div class="col-sm-12">
      <form id="PannelButtonsN-PCActions">        
      </form>
    </div>
  </div>

<!-- bootstrap form -->
<div class="container">
  <div class="row">
    <div class="col-sm-12">
      <form>
        <label for="bracket">Select your tag:</label>
        <select id="bracket">
        </select>

        <br>
        <h2>2. Pick/enter a target</h2>
        <label for="target">Target:</label>
        <input type="text" list="targets" id="target" name="target" placeholder="Inner-bracket target/content"/>
        <datalist id="targets">
          <!-- <option>Grevnyrch</option>
          <option>Kla'Bbbert</option> -->
        </datalist>
        <input type="button" class="btn btn-primary" value="Clear target" onclick="ClearTarget()">
        <br>

        <select id="operator">
        <option></option>
        <option>Act upon: â†’</option>
        <option>Add to symbol table: ;;</option>
        </select>

        <br>
        <br>

        <input type="button" class="btn btn-primary" onclick="LedgerIt()" value="Ledger It!">
        <input type="button" onclick="ClearLedger()" value="Clear Ledger">
        <input type="button" onclick="UndoLedger()" value="Undo last Ledger Entry">
      </form>    

      <!-- <button onclick="hideShowDice()">Show/Hide</button> -->

      <div id="Dice">
        <!-- 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20 ... -->
      </div>


      <div id="ledger" style="background-color:rgba(72, 72, 255, 0.571);">
        <h2><i>{Ledger is empty}</i></h2>
      </div>

      <form>    
        <input type="button" class="btn btn-primary" onclick="LogIt()" value="LogIt!">
      </form>    

      <br><br>

      <div id="log" style="background-color:rgba(178, 178, 188, 0.571);">
        <h2><i>{Logs are empty}</i></h2>
      </div>



      <p id="Logs"></p>
      <form>
        <input type="button" onclick="RemoveLastLog()" value="Remove Last Log">
        <input type="button" onclick="ClearLog()" value="Clear Log">
      </form>

    </div>
  </div>
</div>

<hr>

<!-- javascript for SaveTargetArray() -->
<script>

  function ExportTargetArrayToJson() {
    var text = JSON.stringify(targets);
    var blob = new Blob([text], {type: "text/plain;charset=utf-8"});
    saveAs(blob, "GSL_Targets.json");
  }
  
  function saveAs(blob, filename) {
    var url = URL.createObjectURL(blob);
    var link = document.createElement('a');
    link.href = url;
    link.download = filename;
    link.click();
    setTimeout(function() {
      URL.revokeObjectURL(url);
    }, 100);
  }
  
  function ImportTargetArrayFromJson() {
    var file = document.getElementById("file").files[0];
    var reader = new FileReader();
    reader.onload = function(e) {
      var contents = e.target.result;
      var json = JSON.parse(contents);
      console.log(json);
    };
    reader.readAsText(file);
  }

</script>

<form>
  <div class="container">
    <div class="row">
      <div class="col-sm-12">
        <h2>Targets Export/Import:</h2>
        <input type="button" class="btn btn-primary" onclick="ExportTargetArrayToJson()" value="Save Target Array">
        
        <br><label for="file">Load Saved Targets:</label>
        <input type='file' class="btn btn-primary" id='fileinput' value='Load Targets'>

        </div>
    </div>
</form>


</body>
</html>

